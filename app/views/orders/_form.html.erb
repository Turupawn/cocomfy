<div class="section" style="padding: 25px;">
<div class="container">
  <%= render 'cart_table' %>
</div>
</div>
<div class="section" style="padding: 25px;">
<div class="container">
  <div class="row">
    <div class="col-12 col-lg-8">
      <%= form_with(model: order, local: true) do |form| %>
        <% if order.errors.any? %>
          <div id="error_explanation">
            <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
      
            <ul>
            <% order.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
            </ul>
          </div>
        <% end %>

        <div class="row">
          <div class="col-12 col-sm-12">  
            <h3>Enter your shipping details</h3>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-sm-6">
            <%= form.label :first_name, class: "required" %>
            <%= form.text_field :first_name, value: @first_name_stored, required: true %>
          </div>
        
          <div class="col-12 col-sm-6">
            <%= form.label :last_name, class: "required" %>
            <%= form.text_field :last_name, value: @last_name_stored, required: true %>
          </div>
        </div>
      
        <% if !current_user %>
          <div class="field">
            <%= form.label :email %>
            <%= form.text_field :email, type: "email" %>
          </div>
        <% end %>
      
        <div class="field">
          <%= form.label :postal_code, class: "required" %>
          <%= form.text_field :postal_code, value: @postal_code_stored, required: true %>
        </div>
      
        <div class="field">
          <%= form.label :shipping_address, class: "required" %>
          <%= form.text_area :shipping_address, value: @shipping_address_stored, required: true %>
        </div>
      
        <div class="actions">
        <style>
        .submit-order {
          background-color: #e67e22; /* Green */
          border: none;
          color: white;
          padding: 16px 32px;
          text-align: center;
          text-decoration: none;
          display: inline-block;
          font-size: 16px;
          margin: 4px 2px;
          -webkit-transition-duration: 0.4s; /* Safari */
          transition-duration: 0.4s;
          cursor: pointer;
          background-color: white; 
          color: #e67e22; 
          border: 2px solid #e67e22;
        }
        .submit-order:hover {
          border: 2px solid #e67e22;
          background-color: #e67e22;
          color: white;
        }
        </style>
          <%= form.submit 'Submit order', id: 'submit-button', class: 'button button-xl button-dark button-fullwidth submit-order' %>
        </div>
      <% end %>
    </div>
    
    <div class="col-12 col-lg-4">
      <%= render '/coupons/input' %>
      <%= render 'totals' %>
    </div>
  </div><!-- end row -->
</div><!-- end container -->
</div>